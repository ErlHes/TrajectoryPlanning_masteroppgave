% This scipts deifnes a set of convex polygons that are stacked in an
% array. The polygons are used to mask out all tracks that are outside the
% area of interest during experiments in the ravnkloa-bratt√∏ra canal. The
% polygons are made manually by considering recorded data from earlier
% experiments.. 


% Offset from the origin at the center of the harbour basin in west of
% pirbadet. 
piren_frame_offset = [-550,-300]';

% Unncomment if no offest shal be used.
% piren_frame_offset = [0,0]';


west_bank1 = [
    120,-30;...
    73,-44;...
    41,-76;...
    19,-106;...
    -8, -150;...
    -40,-213;...
    350,-273;...
    350,-38;...
    ]';

west_bank2 = [
    350,-273;...
    -40,-213;...
    -132,-342;...
    -243,-596;...
    350,-596;...
    ]';


east_bank1 = [
  165,164;...
  110,10;...
  120,-30;...
  350,-38;...
  350,160;...
]';

east_bank2 = [
  187,328;...
  165,164;...
  350,160;...
  350,320;...
]';

east_bank3 = [
  199,518;...
  187,328;...
  350,320;...
  350,518;...
]';
south_bank1 = [
  83,663;...
  -87,661;...
  -128.5,400;...
  133,360;...
  143,534;...
  ]';
  
south_bank2 = [
  -128.5,400;...
  -185.85,0;...
  47,5.7;...
  55,11;...
  123,120;...
  156,342;...
  133,360;...
  ]';
south_bank3 = [
  -185.85,0;...
  24,-29.4;...
  47,5.7;...
  ]';
south_bank4 = [
  -185.85,0;...
  -210,-200;...
  -128,-240;...
  -108,-231;...
  -37,-145;...
  7,-72;...
  24,-29.4;...
  ]';

south_bank5 = [
  -297,-517;...
  -236,-425;...
  -128,-240;...
  -210,-200;...
  ]';
  



separator= [nan;nan];
dynamic_obstacle_mask = [separator,west_bank1,...
              separator,west_bank2,...
              separator,east_bank1,...
              separator,east_bank2,...
              separator,east_bank3,...
              separator,south_bank1,...
              separator,south_bank2,...
              separator,south_bank3,...
              separator,south_bank4,...
              separator,south_bank5,...
              separator...
              ]+piren_frame_offset;

          
% figure(600)
% clf(600)
% hold on;
% grid on;
% axis('equal');
% load('static_env_trondheim_harbour.mat');
% % plot_static_obs(static_obs,10);
% plot_static_obs(dynamic_obstacle_mask,10);




